<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>轮播图</title>
        <meta name="renderer" content="webkit|ie-comp|ie-stand">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <script type="text/javascript" src="../js/jquery-3.3.1.min.js"></script>
        <link rel="stylesheet" href="../js/css/layui.css" media="all">
        <script type="text/javascript" src="../js/layui.js"></script>
        <script type="text/javascript">
        $(function(){
			$.ajax({
				"url": "../../up",
				"type": "get",
				"dataType":"json",
				"success":function(data){
					for(var i=0;i<5;i++){
						var per=data.data[i];
						var id=per.id;
						var timg=per.timg;
						$("img:eq("+i+")").attr("src","../../../upfile/"+timg);
					}
				}
			
			});
        });
        </script>
    </head>
    <body>
    <div class="layui-carousel" id="test1" lay-filter="test1" style="text-align: center;margin: 0 auto;border: green solid 1px;">
        <div  id="imgs" carousel-item="">
            <div><img src=""></div>
            <div><img src=""></div>
            <div><img src=""></div>
            <div><img src=""></div>
            <div><img src=""></div>
        </div> 
    </div>
    <!-- 条目中可以是任意内容，如：<img src=""> -->
        <script type="text/javascript" src="../js/layui.js" charset="utf-8"></script>
        <script type="text/javascript">
            layui.use('carousel', function(){
                var carousel = layui.carousel;
                //建造实例
                carousel.render({
                    elem: '#test1'
                    ,width: '1000px'
                    ,height: '580px'
                    ,interval: 2000 //每2秒，自动轮播
                    ,arrow: 'always'
                });

                //监听轮播切换事件
                carousel.on('change(test1)', function(obj){ //test1来源于对应HTML容器的 lay-filter="test1" 属性值
                   /*  console.log(obj.index); //当前条目的索引
                    console.log(obj.prevIndex); //上一个条目的索引
                    console.log(obj.item); //当前条目的元素对象 */
                });

            });
            
          
        </script>
    </body>
</html>